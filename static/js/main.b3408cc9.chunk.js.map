{"version":3,"sources":["assets/sort-ascending.svg","assets/sort-descending.svg","components/todo-item.jsx","components/todo-list.jsx","components/todo-editor.jsx","components/todo-order.jsx","components/confirm.jsx","App.js","index.js"],"names":["module","exports","__webpack_require__","p","todo_item","_ref","completedButton","title","completed","onRemove","onEdit","onComplete","react_default","a","createElement","className","onClick","todo_list","items","order","list","sort","b","Number","localeCompare","map","item","key","id","TodoEditor","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","value","input","React","createRef","onChange","bind","assertThisInitialized","onSave","onKeyDown","document","addEventListener","todo","setValue","current","focus","removeEventListener","event","target","updated","_cloneDeep","onCancel","setState","ref","type","placeholder","Component","todo_order","checkedAsc","name","checked","src","sortAscending","alt","sortDescending","Confirm","onReject","onConfirm","question","confirmVerb","rejectVerb","storeKey","App","initialState","counter","asc","window","localStorage","getItem","JSON","parse","error","confirm","editing","onAdd","onChangeSortOrder","_this$state","setItem","stringify","saved","findIndex","e","push","_this2","concat","find","_this3","_this3$state$items$fi","filter","toArray","slice","_this4","_this$state$confirm","confirm_Confirm","editor","todo_editor_TodoEditor","autoFocus","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.b3408cc9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sort-ascending.0833055f.svg\";","module.exports = __webpack_public_path__ + \"static/media/sort-descending.07d29d59.svg\";","import React from 'react'\nexport default ({title, completed, onRemove, onEdit, onComplete}) => {\n  let completedButton\n  if (!completed) {\n    completedButton = (\n      <button className=\"button is-small is-success is-pulled-right\" onClick={onComplete}>\n        complete\n      </button>\n    )\n  } else {\n    completedButton = (\n      <button className=\"button is-small is-disabled is-pulled-right\">\n        completed\n      </button>\n    )\n  }\n  return (\n    <article className=\"box is-info\">\n      <button className=\"button is-small is-danger is-pulled-right margin-left\" onClick={onRemove}>\n        delete\n      </button>\n      <button className=\"button is-small is-danger is-pulled-right margin-left\" onClick={onEdit}>\n        edit\n      </button>\n      {completedButton}\n      <p>{title}</p>\n    </article>    \n  )\n}\n","import React from 'react'\nimport TodoItem from './todo-item'\nexport default ({items, order, onRemove, onEdit, onComplete}) => {\nconst list = items\n.sort((a, b) => {\n    if (Number(order) === 0) {\n      return b.title.localeCompare(a.title)\n    } else {\n      return a.title.localeCompare(b.title)\n    }\n  })\n  .map(item => {\n    const callEdit = () => {\n      onEdit(item)\n    }\n    const callComplete = () => {\n      onComplete(item)\n    }\n    const callRemove = () => {\n      onRemove(item)\n    }\n    return ( \n      <TodoItem \n        title={item.title} \n        completed={item.completed}\n        onEdit={callEdit} \n        onRemove={callRemove} \n        onComplete={callComplete} \n        key={item.id} \n      /> \n    )\n  })\n\n  return (\n    <section>\n      {list}\n    </section>\n  )\n}\n","import React, { Component } from 'react'\nimport _cloneDeep from 'lodash.clonedeep'\n\nexport default class TodoEditor extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { value: '' }\n    this.input = React.createRef()\n    this.onChange = this.onChange.bind(this)\n    this.onSave = this.onSave.bind(this)\n    this.onKeyDown = this.onKeyDown.bind(this)\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown)\n    if (this.props.todo) {\n      this.setValue(this.props.todo.title)\n    } else {\n      this.setValue('')\n    }\n    this.input.current.focus()\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown)\n  }\n\n  onChange(event) {\n    this.setValue(event.target.value)\n  }\n\n  onSave() {\n    let updated = this.props.todo ? _cloneDeep(this.props.todo) : {}\n    updated.title = this.state.value\n    this.props.onSave(updated)\n  }\n\n  onKeyDown(event) {\n    switch (event.key) {\n      case 'Escape':\n        return this.props.onCancel()\n      case 'Enter':\n        return this.onSave()\n      default:\n        return\n    }\n  }\n\n  setValue(value) {\n    this.setState({ value })\n  }\n\n  render() {\n    const title = this.props.todo ? 'Edit task' : 'Add task'\n    return (\n      <div className='modal is-active'>\n        <div className=\"modal-background\" />\n\n        <div className=\"modal-card\">\n          <header className=\"modal-card-head\">\n            <p className=\"modal-card-title\">{title}</p>\n            <button className=\"delete\" onClick={this.props.onCancel}></button>\n          </header>\n\n          <section className=\"modal-card-body\">\n            <div className=\"field\">\n              <label className=\"label\">Enter task title</label>\n              <div className=\"control\">\n                <input\n                  ref={this.input}\n                  className=\"input\"\n                  type=\"text\"\n                  placeholder=\"Enter task title\"\n                  value={this.state.value}\n                  onChange={this.onChange}\n                />\n              </div>\n            </div>\n          </section>\n\n          <footer className=\"modal-card-foot\">\n            <button type=\"button\" className=\"button is-primary\" onClick={this.onSave}>Save</button>\n            <button className=\"button\" onClick={this.props.onCancel}>Cancel</button>\n          </footer>\n        </div>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\nimport sortAscending from '../assets/sort-ascending.svg'\nimport sortDescending from '../assets/sort-descending.svg'\nexport default ({value, onChange}) => {\n  const onClick = (event) => {\n    onChange(event.target.value)\n  }\n  \n  const checkedAsc = Number(value)===1\n  return (\n    <div className=\"control margin-bottom order\">\n      <span>Sort order:</span>\n      <label className=\"radio margin-left\">\n        <input type=\"radio\" name=\"order\" onChange={onClick}  onClick={onClick} checked={checkedAsc} value=\"1\"/>\n      </label>\n      <img src={sortAscending} className=\"margin-right\" alt=\"\"/>\n      <label className=\"radio margin-left\">\n        <input type=\"radio\" name=\"order\" onChange={onClick} onClick={onClick} checked={!checkedAsc} value=\"0\" />\n      </label>\n      <img src={sortDescending} className=\"svg\" alt=\"\"/>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\n\nexport default class Confirm extends Component {\n  constructor(props) {\n    super(props)\n    this.onKeyDown = this.onKeyDown.bind(this)\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown)\n  }\n\n  onKeyDown(event) {\n    switch (event.key) {\n      case 'Escape':\n        return this.props.onReject()\n      case 'Enter':\n        return this.props.onConfirm()\n      default:\n        return\n    }\n  }\n\n  render() {\n    return (\n      <div className={'modal is-active'}>\n        <div className=\"modal-background\" />\n        <div className=\"modal-card\">\n          <header className=\"modal-card-head\">\n            <p className=\"modal-card-title\">{this.props.title}</p>\n            <button className=\"delete\" onClick={this.props.onReject}></button>\n          </header>\n\n          <section className=\"modal-card-body\">\n            <p>{this.props.question}</p>\n          </section>\n\n          <footer className=\"modal-card-foot\">\n            <button className=\"button is-primary\" onClick={this.props.onConfirm}>{this.props.confirmVerb || 'OK'}</button>\n            <button className=\"button\" onClick={this.props.onReject}>{this.props.rejectVerb || 'Cancel'}</button>\n          </footer>\n        </div>\n      </div>\n    )\n  }\n}\n\n","import React, { Component } from 'react';\nimport _cloneDeep from 'lodash.clonedeep'\nimport TodoList from './components/todo-list'\nimport TodoEditor from './components/todo-editor'\nimport TodoOrder from './components/todo-order'\nimport ConfirmDialog from './components/confirm'\nconst storeKey = 'todo-state-storage'\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    const initialState = { items: [], counter: 0, asc: 1 }\n    \n    if (window.localStorage.getItem(storeKey)) {\n      try {\n        this.state = JSON.parse(window.localStorage.getItem(storeKey))\n      } catch (error) {\n        this.state = initialState\n      }\n    } else {\n      this.state = initialState\n    }\n    \n    this.state.confirm = false\n    this.state.editing = false\n    this.onRemove = this.onRemove.bind(this)\n    this.onAdd = this.onAdd.bind(this)\n    this.onEdit = this.onEdit.bind(this)\n    this.onSave = this.onSave.bind(this)\n    this.onComplete = this.onComplete.bind(this)\n    this.onChangeSortOrder = this.onChangeSortOrder.bind(this)\n  }\n\n  componentDidUpdate() {\n    const { items, counter, asc } = this.state\n    window.localStorage.setItem(storeKey, JSON.stringify({ items, counter, asc }))\n  }\n\n  onAdd() {\n    this.setState({ editing: { todo: false} })\n  }\n\n  onEdit(item) {\n    this.setState({ editing: { todo: item} })\n  }\n\n  onSave(item) {\n    const items = _cloneDeep(this.state.items)\n    if (item.id) {\n      const saved = items.findIndex(e => e.id === item.id)\n      if (saved >= 0) {\n        items[saved] = item\n      }\n      this.setState({ items, editing: false })\n    } else {\n      const counter = this.state.counter + 1\n      item.id = counter\n      items.push(item)\n      this.setState({ items, counter, editing: false })\n    }\n  }\n\n  onComplete(item) {\n    const onConfirm = () => {\n      const items = _cloneDeep(this.state.items)\n      const completed = items.find(e => e.id === item.id)\n      if (completed) {\n        completed.completed = true\n      }\n      this.setState({ items, confirm: false })\n    }\n    this.confirm('Confirm', `Mark task \"${item.title}\" as completed?`, 'Mark completed', onConfirm)\n  }\n\n  onRemove(item) {\n    const onConfirm = () => {\n      const [...items] = this.state.items.filter(e => e.id !== item.id)\n      this.setState({ items, confirm: false })\n    }\n    this.confirm('Confirm', `Delete task \"${item.title}\"?`, 'Delete', onConfirm)\n  }\n\n  onChangeSortOrder(asc) {\n    this.setState({ asc })\n  }\n\n  confirm(title, question, confirmVerb, onConfirm) {\n    const confirm = {\n      title, question, confirmVerb, onConfirm\n    }\n    this.setState({ confirm })\n  }\n\n  render() {\n    let confirm = ''\n    if (this.state.confirm) {\n      const { title, question, confirmVerb, onConfirm } = this.state.confirm\n      const onReject = () => {\n        this.setState({ confirm: false })\n      }\n      confirm = (\n        <ConfirmDialog\n          title={title}\n          question={question}\n          confirmVerb={confirmVerb}\n          onConfirm={onConfirm}\n          onReject={onReject}\n        />\n      )\n    }\n\n    let editor = ''\n    if (this.state.editing) {\n      const onCancel = () => {\n        this.setState({ editing: false })\n      }\n      editor = (\n        <TodoEditor\n          todo={this.state.editing.todo}\n          onSave={this.onSave}\n          onCancel={onCancel}\n        />\n      )\n    }\n\n    return (\n      <div className=\"App\">\n        <section className=\"hero\">\n          <div className=\"hero-body\">\n            <div className=\"container\">\n              <h1 className=\"title\">\n                Todo App\n              </h1>\n            </div>\n          </div>\n        </section>\n        <div className=\"columns is-mobile margin-top\">\n          <div className=\"column is-half is-offset-one-quarter\">\n            <TodoOrder \n              value={this.state.asc} \n              onChange={this.onChangeSortOrder}\n            />\n            \n            <TodoList\n              items={this.state.items}\n              order={this.state.asc}\n              onEdit={this.onEdit}\n              onRemove={this.onRemove}\n              onComplete={this.onComplete}\n            />\n\n            <button type=\"button\" autoFocus className=\"button is-primary margin-top\" onClick={this.onAdd}>\n              Add task\n            </button>\n          </div>\n        </div>\n        {confirm}\n        {editor}\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bulma/css/bulma.css'\nimport './assets/bulmaswatch.min.css'\nimport './assets/main.css'\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}